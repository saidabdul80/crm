import{a5 as k,u as S,a6 as C,K as E,J as b,f as T,a3 as O,r as i,o as s,n,w as o,m as e,a as r,O as m,I as _,q as g,t as p}from"./main-4279fdc3.js";const V=g(" "+p("Edit")),N=g(" "+p("View")),R=g(" "+p("Delete")),z={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(c){const f=c,h=k();S();const B=C(),u=E(),y=b();T(),O("utils");function v(w){B.openDialog({title:t("general.are_you_sure"),message:t("customers.confirm_delete",1),yesLabel:t("general.ok"),noLabel:t("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(l=>{l&&h.deleteCustomer({ids:[w]}).then(a=>{if(a.data.success)return f.loadData&&f.loadData(),!0})})}return(w,l)=>{const a=i("BaseIcon"),x=i("BaseButton"),d=i("BaseDropdownItem"),D=i("router-link"),I=i("BaseDropdown");return s(),n(I,{"content-loading":e(h).isFetchingViewData},{activator:o(()=>[e(y).name==="customers.view"?(s(),n(x,{key:0,variant:"primary"},{default:o(()=>[r(a,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(s(),n(a,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[e(u).hasAbilities(e(m).EDIT_CUSTOMER)?(s(),n(D,{key:0,to:`/admin/customers/${c.row.id}/edit`},{default:o(()=>[r(d,null,{default:o(()=>[r(a,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),V]),_:1})]),_:1},8,["to"])):_("",!0),e(y).name!=="customers.view"&&e(u).hasAbilities(e(m).VIEW_CUSTOMER)?(s(),n(D,{key:1,to:`customers/${c.row.id}/view`},{default:o(()=>[r(d,null,{default:o(()=>[r(a,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),N]),_:1})]),_:1},8,["to"])):_("",!0),e(u).hasAbilities(e(m).DELETE_CUSTOMER)?(s(),n(d,{key:2,onClick:l[0]||(l[0]=U=>v(c.row.id))},{default:o(()=>[r(a,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),R]),_:1})):_("",!0)]),_:1},8,["content-loading"])}}};export{z as _};
