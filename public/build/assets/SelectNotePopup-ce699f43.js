import{g as b,e as z,D as M,K as E,l as P,r as h,o,c as n,a,b as s,w as c,m as e,O as v,n as T,q as A,t as u,H as L,a_ as O,I as g,T as j,a$ as D,L as x,M as F,b0 as U}from"./main-4279fdc3.js";import{u as q,_ as G}from"./NoteModal-cb369dec.js";const H={class:"w-full"},K={class:"overflow-hidden rounded-md shadow-lg ring-1 ring-black ring-opacity-5"},W={class:"relative grid bg-white"},J={class:"relative p-4"},Q={key:0,class:"relative flex flex-col overflow-auto list max-h-36"},R=["onClick"],X={class:"flex justify-between px-2"},Y={class:"m-0 text-base font-semibold leading-tight text-gray-700 cursor-pointer"},Z={key:1,class:"flex justify-center p-5 text-gray-400"},ee={class:"text-base text-gray-500"},te={class:"m-0 ml-3 text-sm leading-none cursor-pointer font-base text-primary-400"},ne={props:{type:{type:String,default:null}},emits:["select"],setup(w,{emit:k}){const d=w;b(null),z();const l=b(null),N=M(),r=q(),m=E(),f=P(()=>l.value?r.notes.filter(function(t){return t.name.toLowerCase().indexOf(l.value.toLowerCase())!==-1}):r.notes);async function C(){await r.fetchNotes({filter:{},orderByField:"",orderBy:"",type:d.type?d.type:""})}function B(t,i){k("select",{...r.notes[t]}),l.value=null,i()}function I(){N.openModal({title:" t('settings.customization.notes.add_note')",componentName:"NoteModal",size:"lg",data:d.type})}return(t,i)=>{const y=h("BaseIcon"),S=h("BaseInput");return o(),n(x,null,[a(G),s("div",H,[a(e(U),null,{default:c(({isOpen:V})=>[e(m).hasAbilities(e(v).VIEW_NOTE)?(o(),T(e(O),{key:0,class:L([V?"":"text-opacity-90","flex items-center z-10 font-medium text-primary-400 focus:outline-none focus:border-none"]),onClick:C},{default:c(()=>[a(y,{name:"PlusIcon",class:"w-4 h-4 font-medium text-primary-400"}),A(" "+u(t.$t("general.insert_note")),1)]),_:2},1032,["class"])):g("",!0),a(j,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:c(()=>[a(e(D),{class:"absolute z-20 px-4 mt-3 sm:px-0 w-screen max-w-full left-0 top-3"},{default:c(({close:$})=>[s("div",K,[s("div",W,[s("div",J,[a(S,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=p=>l.value=p),placeholder:t.$t("general.search"),type:"text",class:"text-black"},null,8,["modelValue","placeholder"])]),e(f).length>0?(o(),n("div",Q,[(o(!0),n(x,null,F(e(f),(p,_)=>(o(),n("div",{key:_,tabindex:"2",class:"px-6 py-4 border-b border-gray-200 border-solid cursor-pointer hover:bg-gray-100 hover:cursor-pointer last:border-b-0",onClick:se=>B(_,$)},[s("div",X,[s("label",Y,u(p.name),1)])],8,R))),128))])):(o(),n("div",Z,[s("label",ee,u(t.$t("general.no_note_found")),1)]))]),e(m).hasAbilities(e(v).MANAGE_NOTE)?(o(),n("button",{key:0,type:"button",class:"h-10 flex items-center justify-center w-full px-2 py-3 bg-gray-200 border-none outline-none",onClick:I},[a(y,{name:"CheckCircleIcon",class:"text-primary-400"}),s("label",te,u(t.$t("settings.customization.notes.add_new_note")),1)])):g("",!0)])]),_:1})]),_:1})]),_:1})])],64)}}};export{ne as _};
