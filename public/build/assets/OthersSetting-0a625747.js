import{C as F,E as N,e as M,F as L,g as S,k as P,r as n,o as s,c as _,a as c,w as l,m as e,aa as U,aP as z,b as x,L as H,M as O,t as v,H as C,I as g,n as T,s as j,q as J,i as k}from"./main-9a914193.js";const K=["onSubmit"],Q=x("option",null,"Select Currency",-1),R=["value"],W={key:0,class:"text-red-500"},X={key:0,class:"text-red-500"},Y=J(" save "),ae={setup(Z){const V=F(),B=N();M();const o=L({currency_id:"",amount:0}),u=S(!1),y=S(!1),t=P({currency_id:{required:k},amount:{required:k}},o);async function b(){y.value=!0;try{await B.fetchAccounts()}catch(a){console.error("Error fetching initial data:",a)}finally{y.value=!1}}async function w(){if(t.value.$touch(),!t.value.$error){u.value=!0;try{const a={...o};console.log(a,3333);const i=await V.updateCompanyAccount(a);b()}catch(a){console.error("Error updating preferences:",a)}finally{u.value=!1}}}return b(),(a,i)=>{const h=n("BaseInputGroup"),D=n("BaseInput"),G=n("BaseInputGrid"),q=n("BaseIcon"),A=n("BaseButton"),E=n("BaseSettingCard");return s(),_("form",{action:"",class:"relative",onSubmit:j(w,["prevent"])},[c(E,{title:"Others",description:"Account settings"},{default:l(()=>[c(G,{class:"mt-5"},{default:l(()=>{var f,$,I;return[c(h,{"content-loading":y.value,label:"Currency","help-text":"company account by currency",error:((f=e(t).account)==null?void 0:f.$error)&&((I=($=e(t).account)==null?void 0:$.$errors[0])==null?void 0:I.$message),required:""},{default:l(()=>{var d,m,p;return[U(x("select",{"onUpdate:modelValue":i[0]||(i[0]=r=>e(o).currency_id=r),class:C([e(t).currency_id.$error?"border-red-500":"","font-base block w-full sm:text-sm border-gray-200 rounded-md text-black focus:border-gray-400"])},[Q,(s(!0),_(H,null,O(e(B).accounts,r=>(s(),_("option",{value:r.id},v(r.name),9,R))),256))],2),[[z,e(o).currency_id]]),(d=e(t).amount)!=null&&d.$error?(s(),_("span",W,v((p=(m=e(t).currency_id)==null?void 0:m.$errors[0])==null?void 0:p.$message),1)):g("",!0)]}),_:1},8,["content-loading","error"]),c(h,{label:"Amount",required:""},{default:l(()=>{var d,m,p;return[c(D,{modelValue:e(o).amount,"onUpdate:modelValue":i[1]||(i[1]=r=>e(o).amount=r),invalid:e(t).amount.$error},null,8,["modelValue","invalid"]),(d=e(t).amount)!=null&&d.$error?(s(),_("span",X,v((p=(m=e(t).amount)==null?void 0:m.$errors[0])==null?void 0:p.$message),1)):g("",!0)]}),_:1})]}),_:1}),c(A,{loading:u.value,disabled:u.value,class:"mt-6"},{left:l(f=>[u.value?g("",!0):(s(),T(q,{key:0,name:"SaveIcon",class:C(f.class)},null,8,["class"]))]),default:l(()=>[Y]),_:1},8,["loading","disabled"])]),_:1})],40,K)}}};export{ae as default};
