import{e as T,h as E,as as I,k as P,l as _,aI as g,aJ as s,r as f,o as a,n as m,w as v,a2 as D,m as n,ar as q,aQ as V,A as h,c as y,a as L,L as F,M as O,I as A,a9 as S}from"./main-4279fdc3.js";import{_ as b}from"./dynamic-import-helper-be004503.js";const x={props:{field:{type:Object,required:!0},customFieldScope:{type:String,required:!0},index:{type:Number,required:!0},store:{type:Object,required:!0},storeProp:{type:String,required:!0}},setup(e){const t=e,{t:p}=T(),l={value:{required:E.withMessage(p("validation.required"),I(t.field.is_required))}},u=P(l,_(()=>t.field),{$scope:t.customFieldScope}),r=_(()=>t.field.type?g(()=>b(Object.assign({"./types/DateTimeType.vue":()=>s(()=>import("./DateTimeType-95249658.js"),["assets/DateTimeType-95249658.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/DateType.vue":()=>s(()=>import("./DateType-42bf44ff.js"),["assets/DateType-42bf44ff.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/DropdownType.vue":()=>s(()=>import("./DropdownType-3fcaab48.js"),["assets/DropdownType-3fcaab48.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/InputType.vue":()=>s(()=>import("./InputType-6285c0c1.js"),["assets/InputType-6285c0c1.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/NumberType.vue":()=>s(()=>import("./NumberType-a05c59fc.js"),["assets/NumberType-a05c59fc.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/PhoneType.vue":()=>s(()=>import("./PhoneType-dff94172.js"),["assets/PhoneType-dff94172.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/SwitchType.vue":()=>s(()=>import("./SwitchType-d0da5e81.js"),["assets/SwitchType-d0da5e81.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/TextAreaType.vue":()=>s(()=>import("./TextAreaType-2c2343ec.js"),["assets/TextAreaType-2c2343ec.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/TimeType.vue":()=>s(()=>import("./TimeType-9f07f565.js"),["assets/TimeType-9f07f565.js","assets/main-4279fdc3.js","assets/main-19abf673.css"]),"./types/UrlType.vue":()=>s(()=>import("./UrlType-20b9480c.js"),["assets/UrlType-20b9480c.js","assets/main-4279fdc3.js","assets/main-19abf673.css"])}),`./types/${t.field.type}Type.vue`)):!1);return(i,o)=>{const d=f("BaseInputGroup");return a(),m(d,{label:e.field.label,required:!!e.field.is_required,error:n(u).value.$error&&n(u).value.$errors[0].$message},{default:v(()=>[(a(),m(D(n(r)),{modelValue:e.field.value,"onUpdate:modelValue":o[0]||(o[0]=c=>e.field.value=c),options:e.field.options,invalid:n(u).value.$error,placeholder:e.field.placeholder},null,8,["modelValue","options","invalid","placeholder"]))]),_:1},8,["label","required","error"])}}},w={key:0},C={props:{store:{type:Object,required:!0},storeProp:{type:String,required:!0},isEdit:{type:Boolean,default:!1},type:{type:String,default:null},gridLayout:{type:String,default:"two-column"},isLoading:{type:Boolean,default:null},customFieldScope:{type:String,required:!0}},setup(e){const t=e,p=q();u();function l(){t.isEdit&&t.store[t.storeProp].fields.forEach(r=>{const i=t.store[t.storeProp].customFields.findIndex(o=>o.id===r.custom_field_id);if(i>-1){let o=r.default_answer;o&&r.custom_field.type==="DateTime"&&(o=S(r.default_answer,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm")),t.store[t.storeProp].customFields[i]={...r,id:r.custom_field_id,value:o,label:r.custom_field.label,options:r.custom_field.options,is_required:r.custom_field.is_required,placeholder:r.custom_field.placeholder,order:r.custom_field.order}}})}async function u(){let i=(await p.fetchCustomFields({type:t.type,limit:"all"})).data.data;i.map(o=>o.value=o.default_answer),t.store[t.storeProp].customFields=V.sortBy(i,o=>o.order),l()}return h(()=>t.store[t.storeProp].fields,r=>{l()}),(r,i)=>{const o=f("BaseInputGrid");return e.store[e.storeProp]&&e.store[e.storeProp].customFields.length>0&&!e.isLoading?(a(),y("div",w,[L(o,{layout:e.gridLayout},{default:v(()=>[(a(!0),y(F,null,O(e.store[e.storeProp].customFields,(d,c)=>(a(),m(x,{key:d.id,"custom-field-scope":e.customFieldScope,store:e.store,"store-prop":e.storeProp,index:c,field:d},null,8,["custom-field-scope","store","store-prop","index","field"]))),128))]),_:1},8,["layout"])])):A("",!0)}}};export{C as _};
